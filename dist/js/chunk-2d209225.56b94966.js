(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209225"],{a880:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadAnimation,expression:"loadAnimation"}],key:e.randomKey,staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",height:"100%",data:e.tableData},on:{"current-change":e.handleCurrentChange}},[i("el-table-column",{attrs:{prop:"itemName",label:"物品",width:"300"}}),i("el-table-column",{attrs:{label:"视频图片",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.imgs&&""!==t.row.imgs?i("el-popover",{attrs:{placement:"right",trigger:"hover"}},[i("img",{staticStyle:{height:"300px"},attrs:{src:t.row.imgs,alt:""}}),i("el-image",{staticStyle:{height:"35px"},attrs:{slot:"reference",src:t.row.imgs,"preview-src-list":[t.row.imgs]},slot:"reference"},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1):e._e(),null!==t.row.videos&&""!==t.row.videos?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.dialogVideoPlayer(t.row.videos)}}},[e._v("查看视频")]):e._e()]}}])}),i("el-table-column",{attrs:{prop:"number",label:"数量",width:"120"}}),i("el-table-column",{attrs:{prop:"price",label:"单价(元)",width:"120"}}),i("el-table-column",{attrs:{prop:"description",label:"描述"}}),i("el-table-column",{attrs:{label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.userAdministratorPermissions?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.handleClick(t.row)}}},[e._v("修改")]):e._e(),e.userAdministratorPermissions?i("el-popover",{ref:"popover-"+t.$index,staticStyle:{"margin-left":"5px"},attrs:{placement:"top",title:"确认删除?",width:"160",trigger:"click"}},[i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.deleteOperation(t.row,!1)}}},[e._v("取消")]),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(i){return e.deleteOperation(t.row,!0)}}},[e._v("删除")])],1),i("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[e._v("删除")])],1):e._e(),e.userAdministratorPermissions?e._e():i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.dialogOldItemArouse(t.row)}}},[e._v("问题上报")])]}}])})],1)},n=[],a=(i("96cf"),i("1da1")),l=i("c276"),s=i("365c"),o={name:"itemTable",props:{tableData:{required:!0},randomKey:{required:!0},loadAnimation:{required:!0}},data:function(){return{currentlySelected:{},userAdministratorPermissions:"0"===l["a"].cookies.get("userStatus")||!1}},methods:{handleClick:function(e){this.$emit("dialogChangeItem",e)},handleCurrentChange:function(e){null!==e&&(this.currentlySelected=e,this.$emit("dialogOldItem",{itemId:e.itemId,itemName:e.itemName,number:e.number},!1))},dialogOldItemArouse:function(e){this.$emit("dialogOldItem",{itemId:e.itemId,itemName:e.itemName,number:e.number},!0)},itemDeleteAPI:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.id,t.next=3,s["a"].ITEM_DELETE_API({id:i});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},itemDelete:function(e){var t=this,i=e.id;this.itemDeleteAPI({id:i}).then((function(e){if(null===e)t.$message({message:"删除成功",type:"success"});else if("fail"===e)t.$message.error("删除失败");else if(e.status>=4e4)return t.$log.push({message:"错误代码:"+e.status+","+e.message,type:"warning"}),t.$notify({title:e.message,message:"错误代码:"+e.status,position:"bottom-left",type:"warning"})}))},deleteOperation:function(e,t){document.body.click(),t&&(this.itemDelete({id:e.itemId}),this.$emit("deleteInformation",!0))},dialogVideoPlayer:function(e){this.$emit("dialogVideoPlayerArouse",e)}}},u=o,c=i("2877"),m=Object(c["a"])(u,r,n,!1,null,"38626fc8",null);t["default"]=m.exports}}]);